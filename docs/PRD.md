# 모임 이벤트 관리 웹 MVP PRD

## 🎯 핵심 정보

**목적**: 수영, 헬스, 친구 모임 등을 주최할 때 공지, 참여자 관리, 정산을 효율적으로 관리
**사용자**: 모임 주최자와 참여자, 플랫폼 전체를 관리하는 관리자

## 🚶 사용자 여정

### 일반 사용자 (주최자/참여자) 여정

```
1. 홈/랜딩 페이지
   ↓ [시작하기] 버튼 클릭

2. 로그인 페이지
   ↓ [구글로 로그인] 버튼 클릭
   ↓ 인증 완료

3. 일반 사용자 대시보드 (자동 리디렉션)
   ↓
   [분기점]

   [A. 주최자 역할] → [새 이벤트 만들기] 버튼 클릭
   ├─ 이벤트 생성/수정 페이지
   │  ↓ 폼 작성 완료 → [이벤트 만들기] 클릭
   │  └─ 이벤트 상세 페이지 (공유 링크 생성됨)
   │     ↓ [공유 링크 복사] 클릭 → 참여자에게 링크 전송
   │     ↓ 실시간으로 참여 신청자 확인
   │     ↓ [출석 체크], [정산 확인] 관리
   │     └─ 이벤트 종료 → 대시보드 복귀

   [B. 참여자 역할] → 공유 링크 수신
   ├─ 이벤트 상세 페이지 (링크로 직접 접근)
   │  ↓ [참여 신청] 버튼 클릭
   │  ↓ 참여 확정 알림 수신
   │  ↓ 이벤트 당일 → 주최자가 출석 체크
   │  └─ 정산 완료 → 대시보드 복귀

4. 알림 페이지 (헤더 알림 아이콘 클릭)
   ↓ 새 알림 확인 (초대, 변경사항, 정산 요청)
   ↓ 알림 클릭 → 해당 이벤트 상세 페이지로 이동

5. 프로필 페이지 (헤더 프로필 아이콘 클릭)
   ↓ 내 정보 확인, 통계 조회
   ↓ [로그아웃] 버튼 → 홈/랜딩 페이지
```

### 관리자 여정

```
1. 홈/랜딩 페이지
   ↓ [시작하기] 버튼 클릭

2. 로그인 페이지
   ↓ [구글로 로그인] 버튼 클릭
   ↓ 인증 완료 (관리자 역할 확인)

3. 관리자 대시보드 (자동 리디렉션)
   ↓ 좌측 사이드바 + 메인 영역 레이아웃

   [관리 작업]
   ├─ [이벤트 관리] 탭
   │  ↓ 전체 이벤트 목록 조회
   │  ↓ 필터 적용 (상태, 카테고리, 날짜)
   │  ↓ 이벤트 클릭 → 이벤트 상세 페이지
   │  └─ 필요 시 이벤트 수정/삭제
   │
   ├─ [사용자 관리] 탭
   │  ↓ 전체 사용자 목록 조회
   │  ↓ 사용자 역할 변경 (user ↔ admin)
   │  └─ 사용자 통계 확인
   │
   └─ [통계 분석] 탭
      ↓ 카테고리별 이벤트 분포 (파이 차트)
      ↓ 월별 이벤트 생성 추이 (라인 차트)
      └─ 일별 활성 사용자 (바 차트)

4. 프로필 페이지 (헤더 프로필 아이콘 클릭)
   ↓ 내 정보 확인
   ↓ [로그아웃] 버튼 → 홈/랜딩 페이지
```

## ⚡ 기능 명세

### 1. MVP 핵심 기능

| ID       | 기능명             | 설명                                                         | MVP 필수 이유                | 관련 페이지                                 |
| -------- | ------------------ | ------------------------------------------------------------ | ---------------------------- | ------------------------------------------- |
| **F001** | 이벤트 생성        | 제목, 날짜/시간, 장소, 참여 인원 제한, 참가비, 카테고리 설정 | 주최자의 핵심 니즈           | 이벤트 생성/수정 페이지                     |
| **F002** | 이벤트 수정/삭제   | 생성된 이벤트 정보 수정 및 삭제                              | 일정 변경 대응 필수          | 이벤트 생성/수정 페이지, 이벤트 상세 페이지 |
| **F003** | 이벤트 상태 관리   | 예정, 진행중, 완료, 취소 상태 전환                           | 이벤트 생명주기 관리         | 이벤트 상세 페이지, 일반 사용자 대시보드    |
| **F004** | 공유 링크 초대     | 고유 토큰 기반 초대 링크 생성 및 공유                        | 간편한 참여자 초대 핵심 기능 | 이벤트 상세 페이지                          |
| **F005** | 참여 신청/취소     | 링크를 통한 이벤트 참여 신청 및 취소                         | 참여자의 핵심 액션           | 이벤트 상세 페이지                          |
| **F006** | 실시간 참여자 목록 | Supabase Realtime으로 참여자 목록 실시간 업데이트            | 주최자가 즉시 참여 현황 파악 | 이벤트 상세 페이지                          |
| **F007** | 출석 체크          | 주최자가 참여자별 출석 확인                                  | 이벤트 실제 참여 확인 필수   | 이벤트 상세 페이지                          |
| **F008** | 1/n 정산 자동 계산 | 총 비용과 참여자 수로 1인당 금액 자동 계산                   | 정산 관리 핵심 기능          | 이벤트 상세 페이지                          |
| **F009** | 정산 현황 관리     | 참여자별 납부 여부 체크 및 미납자 확인                       | 정산 추적 필수               | 이벤트 상세 페이지                          |
| **F010** | 웹 내 알림 시스템  | 초대, 변경, 정산 요청 알림 생성 및 조회                      | 사용자 간 커뮤니케이션 핵심  | 알림 페이지, 이벤트 상세 페이지             |
| **F011** | 이벤트 목록 조회   | 주최자/참여자별 이벤트 카드 목록                             | 사용자 이벤트 관리 기본 기능 | 일반 사용자 대시보드                        |
| **F012** | 관리자 이벤트 관리 | 전체 이벤트 조회, 필터링, 수정/삭제                          | 플랫폼 관리 핵심             | 관리자 대시보드                             |
| **F013** | 관리자 사용자 관리 | 전체 사용자 조회, 역할 변경                                  | 플랫폼 관리 핵심             | 관리자 대시보드                             |
| **F014** | 통계 분석 대시보드 | 카테고리별 분포, 월별 추이, 일별 활성 사용자 차트            | 플랫폼 인사이트 제공         | 관리자 대시보드                             |

### 2. MVP 필수 지원 기능

| ID       | 기능명              | 설명                                      | MVP 필수 이유                | 관련 페이지       |
| -------- | ------------------- | ----------------------------------------- | ---------------------------- | ----------------- |
| **F020** | 구글 소셜 로그인    | 구글 OAuth 인증                           | 서비스 이용을 위한 최소 인증 | 로그인 페이지     |
| **F021** | 역할 기반 권한 관리 | user, admin 역할 구분 및 페이지 접근 제어 | 관리자 기능 보호 필수        | 전체 애플리케이션 |
| **F022** | 기본 프로필 관리    | 이름, 이메일, 프로필 이미지 조회          | 사용자 식별 최소 정보        | 프로필 페이지     |
| **F023** | 알림 읽음 표시      | 알림 읽음/안읽음 상태 관리                | 알림 시스템 기본 기능        | 알림 페이지       |

### 3. MVP 이후 기능 (제외)

- 정기 모임 (반복 이벤트 생성)
- 실제 온라인 결제 (PG사 연동)
- 카카오톡 알림톡, 이메일 알림
- 이벤트 댓글/채팅 기능
- 이벤트 검색/고급 필터링
- 사용자 간 팔로우/친구 기능
- 초대 코드 방식
- 프로필 상세 편집 (아바타 업로드, 자기소개 등)
- 이벤트 좋아요/북마크

## 📱 메뉴 구조

```
📱 모임 이벤트 관리 내비게이션

🏠 공통 메뉴 (비로그인 상태)
├── 홈
│   └── 기능: 서비스 소개, CTA 버튼
└── 로그인
    └── 기능: F020 (구글 소셜 로그인)

👤 일반 사용자 메뉴 (로그인 후, role: user)
├── 📊 대시보드 (홈)
│   └── 기능: F011 (주최자/참여자별 이벤트 목록 조회)
├── ➕ 새 이벤트 만들기
│   └── 기능: F001 (이벤트 생성)
├── 🔔 알림
│   └── 기능: F010, F023 (알림 조회 및 읽음 표시)
└── 👤 프로필
    └── 기능: F022 (기본 프로필 조회, 로그아웃)

🏢 관리자 메뉴 (로그인 후, role: admin) - 데스크톱 전용
├── 📊 대시보드 (홈)
│   └── 기능: F012, F013, F014 (전체 이벤트/사용자 관리, 통계 분석)
├── 📅 이벤트 관리
│   └── 기능: F012 (전체 이벤트 조회, 필터링, 수정/삭제)
├── 👥 사용자 관리
│   └── 기능: F013 (전체 사용자 조회, 역할 변경)
├── 📈 통계 분석
│   └── 기능: F014 (카테고리별 분포, 월별 추이, 일별 활성 사용자)
├── 🔔 알림
│   └── 기능: F010, F023 (알림 조회 및 읽음 표시)
└── 👤 프로필
    └── 기능: F022 (기본 프로필 조회, 로그아웃)

🔧 컨텍스트 메뉴 (이벤트 상세 페이지)
├── ✏️ 이벤트 수정
│   └── 기능: F002 (이벤트 수정)
├── 🗑️ 이벤트 삭제
│   └── 기능: F002 (이벤트 삭제)
├── 🔗 공유 링크 복사
│   └── 기능: F004 (공유 링크 생성)
└── 📊 상태 변경
    └── 기능: F003 (이벤트 상태 관리)
```

---

## 📄 페이지별 상세 기능

### 홈/랜딩 페이지

> **구현 기능:** - | **메뉴 위치:** 공통 메뉴 > 홈 | **인증:** 불필요

| 항목            | 내용                                                                                                                                          |
| --------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| **역할**        | 서비스 소개 및 사용자 유입을 위한 랜딩 페이지                                                                                                 |
| **진입 경로**   | 직접 URL 접근, 로그아웃 후 리디렉션                                                                                                           |
| **사용자 행동** | 서비스 설명 읽기, "시작하기" 버튼 클릭하여 로그인 페이지로 이동                                                                               |
| **주요 기능**   | • 서비스 핵심 가치 제안 (Hero 섹션)<br>• 주요 기능 소개 (카드 형태)<br>• 사용 방법 3단계 설명<br>• **"시작하기"** 버튼 (로그인 페이지로 이동) |
| **다음 이동**   | [시작하기] 클릭 → 로그인 페이지                                                                                                               |

---

### 로그인 페이지

> **구현 기능:** `F020`, `F021` | **메뉴 위치:** 공통 메뉴 > 로그인 | **인증:** 불필요

| 항목            | 내용                                                                                                                                                           |
| --------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **역할**        | 사용자 인증을 처리하는 전용 페이지                                                                                                                             |
| **진입 경로**   | 홈/랜딩 페이지에서 "시작하기" 클릭, 비인증 시 자동 리디렉션                                                                                                    |
| **사용자 행동** | "구글로 로그인" 버튼 클릭하여 구글 OAuth 인증 진행                                                                                                             |
| **주요 기능**   | • 구글 소셜 로그인 버튼 (Supabase Auth)<br>• 인증 완료 후 역할 확인 (user, admin)<br>• **자동 리디렉션**: admin → 관리자 대시보드, user → 일반 사용자 대시보드 |
| **다음 이동**   | 인증 성공 → 역할별 대시보드 자동 이동                                                                                                                          |

---

### 관리자 대시보드 (데스크톱 전용)

> **구현 기능:** `F012`, `F013`, `F014`, `F021` | **메뉴 위치:** 관리자 메뉴 > 대시보드 | **인증:** 관리자 필수

| 항목            | 내용                                                                                                                                                                                                                                                                                                                                                                           |
| --------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **역할**        | 플랫폼 전체를 관리하는 관리자 전용 통합 대시보드 (데스크톱 레이아웃)                                                                                                                                                                                                                                                                                                           |
| **진입 경로**   | 관리자 로그인 후 자동 리디렉션, 좌측 사이드바 "대시보드" 메뉴 클릭                                                                                                                                                                                                                                                                                                             |
| **사용자 행동** | 3개 탭(이벤트 관리, 사용자 관리, 통계 분석)을 전환하며 플랫폼 전체 관리                                                                                                                                                                                                                                                                                                        |
| **주요 기능**   | • **좌측 사이드바**: 이벤트 관리, 사용자 관리, 통계 분석, 알림, 프로필 메뉴<br>• **이벤트 관리 탭**: 전체 이벤트 테이블, 필터(상태, 카테고리, 날짜), 수정/삭제 버튼<br>• **사용자 관리 탭**: 전체 사용자 테이블, 역할 변경 드롭다운 (user ↔ admin)<br>• **통계 분석 탭**: 카테고리별 파이 차트, 월별 추이 라인 차트, 일별 활성 사용자 바 차트<br>• 실시간 데이터 새로고침 버튼 |
| **다음 이동**   | 이벤트 클릭 → 이벤트 상세 페이지, 사이드바 메뉴 클릭 → 해당 페이지                                                                                                                                                                                                                                                                                                             |

---

### 일반 사용자 대시보드

> **구현 기능:** `F011`, `F003`, `F021` | **메뉴 위치:** 일반 사용자 메뉴 > 대시보드 | **인증:** 사용자 필수

| 항목            | 내용                                                                                                                                                                                                                                                                                                                    |
| --------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **역할**        | 주최자/참여자별 이벤트를 한눈에 확인하는 메인 대시보드                                                                                                                                                                                                                                                                  |
| **진입 경로**   | 일반 사용자 로그인 후 자동 리디렉션, 헤더 "대시보드" 메뉴 클릭                                                                                                                                                                                                                                                          |
| **사용자 행동** | 주최한 이벤트와 참여한 이벤트를 카드로 조회하고, 상세 정보 확인을 위해 카드 클릭                                                                                                                                                                                                                                        |
| **주요 기능**   | • **주최한 이벤트** 섹션: 카드 목록 (제목, 날짜, 참여자 수, 상태 배지)<br>• **참여한 이벤트** 섹션: 카드 목록 (제목, 날짜, 주최자, 상태 배지)<br>• **새 이벤트 만들기** FAB 버튼 (우하단 고정)<br>• 이벤트 상태별 색상 구분 (예정: 초록, 진행중: 파란, 완료: 회색, 취소: 빨강)<br>• 카드 클릭 → 이벤트 상세 페이지 이동 |
| **다음 이동**   | 이벤트 카드 클릭 → 이벤트 상세 페이지, FAB 클릭 → 이벤트 생성/수정 페이지                                                                                                                                                                                                                                               |

---

### 이벤트 생성/수정 페이지

> **구현 기능:** `F001`, `F002`, `F021` | **메뉴 위치:** 일반 사용자 메뉴 > 새 이벤트 만들기 | **인증:** 사용자 필수

| 항목            | 내용                                                                                                                                                                                                                                                                                                                                                    |
| --------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **역할**        | 새 이벤트를 생성하거나 기존 이벤트를 수정하는 폼 페이지                                                                                                                                                                                                                                                                                                 |
| **진입 경로**   | 대시보드 FAB 클릭 (생성), 이벤트 상세 페이지 "수정" 버튼 클릭 (수정)                                                                                                                                                                                                                                                                                    |
| **사용자 행동** | 폼 필드 입력 후 "이벤트 만들기" 또는 "수정하기" 버튼 클릭                                                                                                                                                                                                                                                                                               |
| **주요 기능**   | • **폼 필드**: 제목, 설명, 카테고리(수영/헬스/친구모임/기타), 날짜, 시간, 장소, 최대 참여 인원, 1인당 참가비<br>• **React Hook Form + Zod 검증**: 필수 필드, 날짜 유효성, 숫자 범위 검증<br>• 카테고리 선택: 라디오 버튼 또는 드롭다운<br>• **"이벤트 만들기"** 버튼 (생성 모드) / **"수정하기"** 버튼 (수정 모드)<br>• **"취소"** 버튼 → 대시보드 복귀 |
| **다음 이동**   | 생성 성공 → 이벤트 상세 페이지 (공유 링크 자동 생성), 수정 성공 → 이벤트 상세 페이지, 취소 → 대시보드                                                                                                                                                                                                                                                   |

---

### 이벤트 상세 페이지

> **구현 기능:** `F002`, `F003`, `F004`, `F005`, `F006`, `F007`, `F008`, `F009`, `F010`, `F021` | **메뉴 위치:** 대시보드 카드 클릭 또는 공유 링크 접근 | **인증:** 사용자 필수 (공유 링크 접근 시에도 로그인 필요)

| 항목            | 내용                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| --------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **역할**        | 이벤트의 모든 정보를 조회하고, 참여 신청, 실시간 참여자 목록, 정산 현황을 관리하는 핵심 페이지                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **진입 경로**   | 대시보드에서 이벤트 카드 클릭, 공유 링크로 직접 접근, 알림에서 클릭                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **사용자 행동** | • **주최자**: 공유 링크 복사, 실시간 참여자 확인, 출석 체크, 정산 관리, 이벤트 수정/삭제/상태 변경<br>• **참여자**: 참여 신청/취소, 정산 내역 확인, 출석 상태 확인                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **주요 기능**   | • **이벤트 정보 섹션**: 제목, 설명, 카테고리 배지, 날짜/시간, 장소, 주최자 이름, 상태 배지<br>• **공유 링크 섹션** (주최자만): 고유 토큰 기반 링크 생성, [복사하기] 버튼<br>• **참여 신청 버튼** (참여자만, 비참여 상태): [참여 신청] 클릭 → participants 레코드 생성<br>• **참여 취소 버튼** (참여자만, 참여 중): [참여 취소] 클릭 → status: cancelled 변경<br>• **실시간 참여자 목록** (Supabase Realtime 구독): 참여자 이름, 아바타, 출석 상태, 정산 상태<br>• **출석 체크 체크박스** (주최자만): 각 참여자별 attended 토글<br>• **정산 현황 섹션**: 1/n 자동 계산 금액 표시, 참여자별 납부 여부 체크박스 (주최자만)<br>• **미납자 강조**: 납부 안 한 참여자 빨간색 표시, 미납 인원 카운트<br>• **컨텍스트 메뉴** (주최자만): [수정], [삭제], [상태 변경] (예정/진행중/완료/취소)<br>• 이벤트 변경 시 참여자에게 알림 자동 생성 (F010) |
| **다음 이동**   | [수정] → 이벤트 생성/수정 페이지, [삭제] → 대시보드, [뒤로 가기] → 대시보드                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |

---

### 알림 페이지

> **구현 기능:** `F010`, `F023`, `F021` | **메뉴 위치:** 헤더 알림 아이콘 (🔔) | **인증:** 사용자 필수

| 항목            | 내용                                                                                                                                                                                                                                                                                                                                                                      |
| --------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **역할**        | 사용자가 받은 모든 알림을 시간순으로 조회하고 읽음 처리하는 페이지                                                                                                                                                                                                                                                                                                        |
| **진입 경로**   | 헤더 알림 아이콘 클릭 (안읽은 알림 배지 표시)                                                                                                                                                                                                                                                                                                                             |
| **사용자 행동** | 알림 목록 스크롤하여 확인, 알림 클릭 시 해당 이벤트로 이동, 읽음 처리                                                                                                                                                                                                                                                                                                     |
| **주요 기능**   | • **알림 목록**: 최신순 정렬, 안읽음 알림 강조 표시 (배경색 구분)<br>• **알림 타입별 아이콘**: 초대(✉️), 변경(📝), 정산 요청(💰)<br>• **알림 내용**: 제목, 메시지, 시간 (예: "5분 전", "2시간 전")<br>• 알림 클릭 → read: true 자동 업데이트 + 해당 이벤트 상세 페이지로 이동<br>• **"모두 읽음 처리"** 버튼 (전체 알림 read: true)<br>• 알림 없을 시 빈 상태 메시지 표시 |
| **다음 이동**   | 알림 클릭 → 이벤트 상세 페이지, [뒤로 가기] → 이전 페이지                                                                                                                                                                                                                                                                                                                 |

---

### 프로필 페이지

> **구현 기능:** `F022`, `F021` | **메뉴 위치:** 헤더 프로필 아이콘 (👤) | **인증:** 사용자 필수

| 항목            | 내용                                                                                                                                                                                                                                                                                            |
| --------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **역할**        | 사용자 기본 정보 조회 및 로그아웃 처리 페이지                                                                                                                                                                                                                                                   |
| **진입 경로**   | 헤더 프로필 아이콘 클릭                                                                                                                                                                                                                                                                         |
| **사용자 행동** | 내 정보 확인, 통계 조회, 로그아웃                                                                                                                                                                                                                                                               |
| **주요 기능**   | • **프로필 정보**: 프로필 이미지 (구글 OAuth에서 가져옴), 이름, 이메일, 역할 배지 (user/admin)<br>• **나의 통계**: 주최한 이벤트 수, 참여한 이벤트 수, 완료한 이벤트 수<br>• **"로그아웃"** 버튼 → Supabase Auth 로그아웃 + 홈/랜딩 페이지로 리디렉션<br>• (MVP 제외: 프로필 편집, 아바타 변경) |
| **다음 이동**   | [로그아웃] → 홈/랜딩 페이지                                                                                                                                                                                                                                                                     |

---

## 🗄️ 데이터 모델

### users (Supabase Auth 기반)

| 필드       | 설명                             | 타입/관계           |
| ---------- | -------------------------------- | ------------------- |
| id         | 고유 식별자 (Supabase Auth UUID) | UUID                |
| email      | 사용자 이메일                    | Text                |
| name       | 사용자 이름                      | Text                |
| avatar_url | 프로필 이미지 URL (구글 OAuth)   | Text                |
| role       | 사용자 역할 (user, admin)        | Enum, Default: user |
| created_at | 가입 일시                        | Timestamp           |

### events

| 필드             | 설명                                                   | 타입/관계                |
| ---------------- | ------------------------------------------------------ | ------------------------ |
| id               | 고유 식별자                                            | UUID                     |
| title            | 이벤트 제목                                            | Text                     |
| description      | 이벤트 설명                                            | Text                     |
| category         | 카테고리 (수영, 헬스, 친구모임, 기타)                  | Enum                     |
| event_date       | 이벤트 날짜                                            | Date                     |
| event_time       | 이벤트 시간                                            | Time                     |
| location         | 장소                                                   | Text                     |
| max_participants | 최대 참여 인원                                         | Integer                  |
| cost_per_person  | 1인당 참가비                                           | Numeric                  |
| host_id          | 주최자 ID                                              | → users.id               |
| status           | 이벤트 상태 (scheduled, ongoing, completed, cancelled) | Enum, Default: scheduled |
| share_link_token | 공유 링크용 고유 토큰                                  | UUID (자동 생성)         |
| created_at       | 생성 일시                                              | Timestamp                |
| updated_at       | 수정 일시                                              | Timestamp                |

### participants

| 필드              | 설명                                      | 타입/관계                |
| ----------------- | ----------------------------------------- | ------------------------ |
| id                | 고유 식별자                               | UUID                     |
| event_id          | 이벤트 ID                                 | → events.id              |
| user_id           | 참여자 ID                                 | → users.id               |
| status            | 참여 상태 (pending, confirmed, cancelled) | Enum, Default: confirmed |
| attended          | 출석 여부                                 | Boolean, Default: false  |
| payment_confirmed | 정산 완료 여부                            | Boolean, Default: false  |
| created_at        | 참여 신청 일시                            | Timestamp                |
| updated_at        | 상태 변경 일시                            | Timestamp                |

### notifications

| 필드       | 설명                                                   | 타입/관계               |
| ---------- | ------------------------------------------------------ | ----------------------- |
| id         | 고유 식별자                                            | UUID                    |
| user_id    | 수신자 ID                                              | → users.id              |
| event_id   | 관련 이벤트 ID                                         | → events.id             |
| type       | 알림 타입 (invite, update, payment_request, cancelled) | Enum                    |
| title      | 알림 제목                                              | Text                    |
| message    | 알림 메시지                                            | Text                    |
| read       | 읽음 여부                                              | Boolean, Default: false |
| created_at | 알림 생성 일시                                         | Timestamp               |

---

## 🛠️ 기술 스택 (2026년 1월 기준)

### 🎨 프론트엔드 프레임워크

- **Next.js 16+** (App Router, Turbopack stable) - React 풀스택 프레임워크 (16.1+ 권장)
- **TypeScript 5+** - 타입 안전성 보장 (5.9+ 권장)
- **React 19** - UI 라이브러리 (최신 동시성 기능, 19.2+ 권장)

### 🎨 스타일링 & UI

- **TailwindCSS v3.4+** - 유틸리티 CSS 프레임워크 (기본 권장, shadcn/ui 완벽 호환)
- **shadcn/ui** - 고품질 Radix UI 기반 컴포넌트 라이브러리 (new-york 스타일)
- **Lucide React** - 아이콘 라이브러리
- **next-themes** - 다크 모드 지원

### 📝 폼 & 검증

- **React Hook Form 7+** - 폼 상태 관리
- **Zod** - 스키마 검증 라이브러리

### 🗄️ 백엔드 & 데이터베이스

- **Supabase** - BaaS (인증, 데이터베이스, 실시간 구독)
  - `@supabase/ssr` - SSR 인증
  - `@supabase/supabase-js` - 클라이언트 SDK
  - **Supabase Realtime** - 참여자 목록 실시간 업데이트
- **PostgreSQL** - 관계형 데이터베이스 (Supabase 포함)

### 📊 차트 & 데이터 시각화

- **Recharts** - 차트 라이브러리 (관리자 대시보드 통계)
- **@tanstack/react-table** - 테이블 라이브러리 (관리자 이벤트/사용자 관리)

### 🚀 배포 & 호스팅

- **Vercel** - Next.js 최적화 배포 플랫폼

### 🔧 개발 도구

- **ESLint 9+** - 코드 품질 검사
- **Prettier 3+** - 코드 포맷팅
- **Husky** - Git 훅 관리
- **lint-staged** - 커밋 전 자동 검사

### 📦 패키지 관리

- **npm** - 의존성 관리

---

## 🎨 UI/UX 디자인 가이드 (luckymeal 참고)

### 디자인 시스템

- **Primary 색상**: #16CC83 (그린 톤) 또는 유사 색상
- **카드 디자인**: 둥근 모서리 (border-radius: 12px), 부드러운 그림자 (shadow-sm)
- **타이포그래피**: 명확한 계층 구조, 충분한 여백
- **아이콘**: Lucide React 아이콘 일관성 있게 사용

### 레이아웃

- **모바일 우선 반응형** (관리자 대시보드 제외)
  - 모바일: 단일 컬럼 레이아웃
  - 태블릿: 2컬럼 그리드
  - 데스크톱: 3컬럼 그리드
- **관리자 대시보드**: 데스크톱 전용, 좌측 사이드바 + 넓은 메인 영역

### 컴포넌트

- **버튼**: 명확한 CTA, 상태별 색상 구분 (Primary, Secondary, Destructive)
- **카드**: 이벤트 정보 요약 (제목, 날짜, 상태 배지, 참여자 수)
- **배지**: 상태별 색상 (예정: green, 진행중: blue, 완료: gray, 취소: red)
- **폼**: 명확한 라벨, 인라인 검증 에러 메시지

### 인터랙션

- **실시간 업데이트**: 참여자 목록 변경 시 즉시 반영 (애니메이션 효과)
- **로딩 상태**: 스켈레톤 UI 또는 스피너
- **성공/실패 피드백**: Toast 알림 (shadcn/ui Toast 컴포넌트)

---

## ✅ 정합성 검증 체크리스트 (PRD 완료 전 필수)

### 🔍 1단계: 기능 명세 → 페이지 연결 검증

- [x] 기능 명세의 모든 기능 ID가 페이지별 상세 기능에 존재하는가?
  - F001 → 이벤트 생성/수정 페이지 ✓
  - F002 → 이벤트 생성/수정 페이지, 이벤트 상세 페이지 ✓
  - F003 → 이벤트 상세 페이지, 일반 사용자 대시보드 ✓
  - F004 → 이벤트 상세 페이지 ✓
  - F005 → 이벤트 상세 페이지 ✓
  - F006 → 이벤트 상세 페이지 ✓
  - F007 → 이벤트 상세 페이지 ✓
  - F008 → 이벤트 상세 페이지 ✓
  - F009 → 이벤트 상세 페이지 ✓
  - F010 → 알림 페이지, 이벤트 상세 페이지 ✓
  - F011 → 일반 사용자 대시보드 ✓
  - F012 → 관리자 대시보드 ✓
  - F013 → 관리자 대시보드 ✓
  - F014 → 관리자 대시보드 ✓
  - F020 → 로그인 페이지 ✓
  - F021 → 전체 애플리케이션 (모든 페이지) ✓
  - F022 → 프로필 페이지 ✓
  - F023 → 알림 페이지 ✓

- [x] 기능 명세에서 명시한 관련 페이지 이름이 실제 페이지별 상세 기능에 존재하는가?
  - 모든 관련 페이지가 페이지별 상세 기능 섹션에 존재함 ✓

### 🔍 2단계: 메뉴 구조 → 페이지 연결 검증

- [x] 메뉴 구조의 모든 메뉴 항목이 페이지별 상세 기능에 해당 페이지로 존재하는가?
  - 홈 → 홈/랜딩 페이지 ✓
  - 로그인 → 로그인 페이지 ✓
  - 대시보드 (일반) → 일반 사용자 대시보드 ✓
  - 새 이벤트 만들기 → 이벤트 생성/수정 페이지 ✓
  - 알림 → 알림 페이지 ✓
  - 프로필 → 프로필 페이지 ✓
  - 대시보드 (관리자) → 관리자 대시보드 ✓
  - 이벤트 관리 → 관리자 대시보드 ✓
  - 사용자 관리 → 관리자 대시보드 ✓
  - 통계 분석 → 관리자 대시보드 ✓

- [x] 메뉴에서 참조하는 모든 기능 ID가 기능 명세에 정의되어 있는가?
  - 모든 메뉴의 기능 ID가 기능 명세에 정의됨 ✓

### 🔍 3단계: 페이지별 상세 기능 → 역참조 검증

- [x] 페이지별 상세 기능의 모든 구현 기능 ID가 기능 명세에 정의되어 있는가?
  - 모든 페이지의 구현 기능 ID가 기능 명세에 존재함 ✓

- [x] 모든 페이지가 메뉴 구조에서 접근 가능한가?
  - 모든 페이지가 메뉴 또는 페이지 간 이동으로 접근 가능 ✓

### 🔍 4단계: 누락 및 고아 항목 검증

- [x] 기능 명세에만 있고 페이지에서 구현되지 않은 기능이 있는가? (없음 ✓)
- [x] 페이지에만 있고 기능 명세에 정의되지 않은 기능이 있는가? (없음 ✓)
- [x] 메뉴에만 있고 실제 페이지가 없는 항목이 있는가? (없음 ✓)

---

## 🚀 개발 우선순위 (참고용)

### Phase 1: 기본 인프라 (1-2일)

1. Next.js 16 + Supabase 프로젝트 설정
2. Supabase 데이터베이스 스키마 생성 (migrations)
3. 구글 OAuth 인증 설정
4. 역할 기반 접근 제어 미들웨어

### Phase 2: 핵심 기능 (5-7일)

1. 이벤트 생성/수정/삭제 (F001, F002)
2. 공유 링크 초대 시스템 (F004)
3. 참여 신청/취소 (F005)
4. 실시간 참여자 목록 (F006, Supabase Realtime)
5. 일반 사용자 대시보드 (F011)

### Phase 3: 정산 및 출석 (2-3일)

1. 1/n 정산 자동 계산 (F008)
2. 정산 현황 관리 (F009)
3. 출석 체크 (F007)

### Phase 4: 알림 시스템 (2일)

1. 웹 내 알림 생성 및 조회 (F010)
2. 알림 읽음 표시 (F023)

### Phase 5: 관리자 기능 (3-4일)

1. 관리자 대시보드 레이아웃 (데스크톱 전용)
2. 이벤트 관리 (F012)
3. 사용자 관리 (F013)
4. 통계 분석 차트 (F014, Recharts)

### Phase 6: UI/UX 개선 (2일)

1. luckymeal 스타일 적용 (그린 톤, 카드 디자인)
2. 반응형 레이아웃 최적화
3. 다크 모드 지원

---

## 📝 개발 참고사항

### Supabase Realtime 구현 예시

```typescript
// 이벤트 상세 페이지에서 참여자 목록 실시간 구독
const supabase = createClient();

useEffect(() => {
  const channel = supabase
    .channel("participants_changes")
    .on(
      "postgres_changes",
      {
        event: "*",
        schema: "public",
        table: "participants",
        filter: `event_id=eq.${eventId}`,
      },
      (payload) => {
        // 참여자 목록 상태 업데이트
        refetchParticipants();
      }
    )
    .subscribe();

  return () => {
    supabase.removeChannel(channel);
  };
}, [eventId]);
```

### 공유 링크 토큰 생성

```typescript
// events 테이블 생성 시 share_link_token 자동 생성 (PostgreSQL)
CREATE TABLE events (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  share_link_token UUID DEFAULT gen_random_uuid(),
  -- 기타 필드...
);

// 공유 링크 URL
const shareUrl = `${window.location.origin}/events/${event.share_link_token}`;
```

### 역할 기반 페이지 접근 제어

```typescript
// middleware.ts
import { createClient } from "@/lib/supabase/proxy";

export async function middleware(request: NextRequest) {
  const supabase = await createClient();
  const {
    data: { user },
  } = await supabase.auth.getClaims();

  if (request.nextUrl.pathname.startsWith("/admin")) {
    if (!user || user.user_metadata.role !== "admin") {
      return NextResponse.redirect(new URL("/dashboard", request.url));
    }
  }

  // 기타 미들웨어 로직...
}
```

---

**PRD 작성 완료일**: 2026년 1월 2일
**작성자**: Claude Code
**버전**: 1.0
